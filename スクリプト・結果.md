# ã‚¬ã‚½ãƒªãƒ³ç¨ã«ã‚ˆã‚‹æ¶ˆè²»è€…ä½™å‰°åˆ†æ - ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ»çµæœã¾ã¨ã‚

> **æ³¨æ„**: ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯æ•´ç†å¾Œã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆã«åŸºã¥ã„ã¦ã„ã¾ã™ï¼ˆ2025å¹´11æœˆ26æ—¥æ›´æ–°ï¼‰  
> è©³ç´°ã¯`æ•´ç†å†…å®¹.md`ãŠã‚ˆã³`æ•´ç†å®Œäº†å ±å‘Š.md`ã‚’å‚ç…§ã—ã¦ãã ã•ã„ã€‚

## ğŸ“Š åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆä¸€è¦§

| ã‚¹ã‚¯ãƒªãƒ—ãƒˆï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ï¼‰ | èª¬æ˜ | å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ« | ãƒ‡ãƒ¼ã‚¿å†…å®¹ |
|------------------------|------|------------|----------|
| **07_prepare_annual_log_transformed_data.py**<br>`scripts/data_preparation/07_prepare_annual_log_transformed_data.py` | å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã®å¯¾æ•°å¤‰æ›æº–å‚™ï¼ˆå‰å‡¦ç†ï¼‰ | `analysis/demand_regression_data_annual_log_transformed.csv` | Year, Q, P, Tax_rate, GDP, ln_Q, ln_P, ln_GDP, ln_Tax_rateï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã®å¯¾æ•°å¤‰æ›ï¼‰ |
| **01_estimate_demand_function_annual_level_model.py**<br>`analysis/01_estimate_demand_function_annual_level_model.py` | éœ€è¦é–¢æ•°ã®æ¨å®šï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«ç‰ˆï¼‰ | `analysis/results/01_analysis_data_annual_level_model.csv`<br>`analysis/results/01_demand_function_coefficients_annual_level_model.csv`<br>`analysis/results/01_coefficients_annual_level_model.json` | **01_analysis_data_annual_level_model.csv**: å›å¸°åˆ†æç”¨ãƒ‡ãƒ¼ã‚¿ï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã€å®Ÿè³ªGDPã€ç›¸å¯¾ä¾¡æ ¼ã€ãƒ€ãƒŸãƒ¼å¤‰æ•°å«ã‚€ï¼‰<br>**01_demand_function_coefficients_annual_level_model.csv**: ä¿‚æ•°ï¼ˆÎ±, Î², Î³, å®šæ•°é …ã€ãƒ€ãƒŸãƒ¼å¤‰æ•°ï¼‰ã€På€¤ã€è§£é‡ˆ<br>**01_coefficients_annual_level_model.json**: ä¿‚æ•°ã¨çµ±è¨ˆæŒ‡æ¨™ï¼ˆRÂ²=93.9%ã€Fçµ±è¨ˆé‡ãªã©ï¼‰ |
| **02_calculate_consumer_surplus.py**<br>`analysis/02_calculate_consumer_surplus.py` | æ¶ˆè²»è€…ä½™å‰°ã®è¨ˆç®—ï¼ˆæ¸¬å®šæ–¹æ³•ç·è«–ã«åŸºã¥ãå°å½¢è¿‘ä¼¼ã€å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ç‰ˆï¼‰ | `analysis/results/02_consumer_surplus_results.csv` | Year, Q_prev, Q_curr, P_prev, P_curr, Price_Contribution, Price_Effect, CS_Increase, Cumulative_CS, Î”Q, Î”Pï¼ˆå„å¹´ã®æ¶ˆè²»è€…ä½™å‰°å¢—åˆ†ã¨ç´¯ç©å€¤ï¼‰ |
| **03_visualize_results.py**<br>`analysis/03_visualize_results.py` | åˆ†æçµæœã®å¯è¦–åŒ–ï¼ˆç ”ç©¶ç”¨ã‚°ãƒ©ãƒ•ï¼‰ | `analysis/figures/01_demand_function_coefficients.png`<br>`analysis/figures/02_consumer_surplus_increase.png`<br>`analysis/figures/03_cumulative_consumer_surplus.png`<br>`analysis/figures/04_price_vs_surplus.png`<br>`analysis/figures/05_regression_diagnostics.png` | **01**: éœ€è¦é–¢æ•°ä¿‚æ•°ã®å¯è¦–åŒ–ï¼ˆãƒãƒ¼ãƒ—ãƒ­ãƒƒãƒˆï¼‰<br>**02**: æ¶ˆè²»è€…ä½™å‰°å¢—åˆ†ã®æ™‚ç³»åˆ—ã‚°ãƒ©ãƒ•<br>**03**: ç´¯ç©æ¶ˆè²»è€…ä½™å‰°ã®æ™‚ç³»åˆ—ã‚°ãƒ©ãƒ•<br>**04**: ä¾¡æ ¼å¤‰åŒ–ã¨ä½™å‰°å¤‰åŒ–ã®æ•£å¸ƒå›³<br>**05**: å›å¸°è¨ºæ–­ã‚°ãƒ©ãƒ•ï¼ˆæ®‹å·®ãƒ—ãƒ­ãƒƒãƒˆãªã©ï¼‰ |

## ğŸ“ˆ éœ€è¦é–¢æ•°ã®æ¨å®šçµæœ

### æ¨å®šå¼ï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«ç‰ˆï¼‰
```
ln(Q) = C + Î±Ã—ln(GDP) + Î²Ã—ln(P_relative) + Î³Ã—ln(Tax_rate) + Î´1Ã—D2008 + Î´2Ã—D2020 + Î´3Ã—D2009 + Îµ
```

### æ¨å®šã•ã‚ŒãŸä¿‚æ•°ï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«ç‰ˆï¼‰

| ä¿‚æ•° | è¨˜å· | æ¨å®šå€¤ | På€¤ | æœ‰æ„æ€§ | è§£é‡ˆ |
|------|------|--------|-----|--------|------|
| **æ‰€å¾—å¼¾åŠ›æ€§** | Î± | 0.9622 | 0.000004 | *** | å®Ÿè³ªGDPãŒ1%å¢—åŠ â†’ã‚¬ã‚½ãƒªãƒ³æ¶ˆè²»é‡0.962%å¢—åŠ  |
| **ä¾¡æ ¼å¼¾åŠ›æ€§** | Î² | 3.2116 | 0.0536 | * | ç›¸å¯¾ä¾¡æ ¼ãŒ1%ä¸Šæ˜‡â†’ã‚¬ã‚½ãƒªãƒ³æ¶ˆè²»é‡3.212%æ¸›å°‘ï¼ˆ10%æ°´æº–ã§æœ‰æ„ï¼‰ |
| **ç¨ç‡å¼¾åŠ›æ€§** | Î³ | 3.2767 | 0.0295 | ** | ç¨ç‡ãŒ1%ä¸Šæ˜‡â†’ã‚¬ã‚½ãƒªãƒ³æ¶ˆè²»é‡3.277%æ¸›å°‘ï¼ˆ5%æ°´æº–ã§æœ‰æ„ï¼‰ |
| **D2008ï¼ˆæš«å®šç¨ç‡å¤±åŠ¹ï¼‰** | Î´1 | 0.5586 | 0.0149 | ** | 2008å¹´ã®æ”¿ç­–ã‚¤ãƒ™ãƒ³ãƒˆãŒéœ€è¦ã«å½±éŸ¿ï¼ˆ5%æ°´æº–ã§æœ‰æ„ï¼‰ |
| **D2020ï¼ˆCOVID-19ï¼‰** | Î´2 | -0.2645 | 0.0592 | * | ãƒ‘ãƒ³ãƒ‡ãƒŸãƒƒã‚¯ãŒéœ€è¦æ¸›å°‘ã«å¯„ä¸ï¼ˆ10%æ°´æº–ã§æœ‰æ„ï¼‰ |
| **D2009ï¼ˆãƒªãƒ¼ãƒãƒ³ã‚·ãƒ§ãƒƒã‚¯ï¼‰** | Î´3 | 0.1969 | 0.1818 | éæœ‰æ„ | é‡‘èå±æ©Ÿã®å½±éŸ¿ã¯çµ±è¨ˆçš„ã«æœ‰æ„ã§ã¯ãªã„ |
| **å®šæ•°é …** | C | 5.1392 | - | - | åŸºç¤çš„ãªéœ€è¦æ°´æº– |

**æœ‰æ„æ€§ã®å‡¡ä¾‹**: ***: p<0.001, **: p<0.01, *: p<0.05

### çµ±è¨ˆçš„æœ‰æ„æ€§

| æŒ‡æ¨™ | å€¤ | è§£é‡ˆ |
|------|-----|------|
| **R-squared** | 0.9389 | ãƒ¢ãƒ‡ãƒ«ãŒéœ€è¦å¤‰åŒ–ã®93.9%ã‚’èª¬æ˜ï¼ˆå…ˆè¡Œç ”ç©¶ã®95%ã«è¿‘ã„ï¼‰ |
| **Adjusted R-squared** | 0.9084 | è‡ªç”±åº¦èª¿æ•´å¾Œã®èª¬æ˜åŠ›90.8% |
| **Fçµ±è¨ˆé‡** | 30.74 | ãƒ¢ãƒ‡ãƒ«å…¨ä½“ã®æœ‰æ„æ€§æ¤œå®š |
| **Fçµ±è¨ˆé‡ã®På€¤** | 0.000001 | ***ï¼ˆ1%æ°´æº–ã§æœ‰æ„ï¼‰ |
| **è¦³æ¸¬æ•°** | 19å¹´ | 2007-2025ï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ï¼‰ |

### åˆ†æãƒ‡ãƒ¼ã‚¿ã®è©³ç´°

| é …ç›® | å€¤ |
|------|-----|
| **ãƒ‡ãƒ¼ã‚¿æœŸé–“** | 2007-2025ï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ï¼‰ |
| **å…¨å¤‰æ•°ãŒæƒã£ã¦ã„ã‚‹æœŸé–“** | 2007-2025ï¼ˆ19å¹´ã€2010å¹´ã‚’é™¤ãï¼‰ |
| **å›å¸°åˆ†æã«ä½¿ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿** | 19å¹´ï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ï¼‰ |
| **ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹** | `demand_regression_data_annual.csv`ï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ï¼‰ |
| **å‰å‡¦ç†ãƒ•ã‚¡ã‚¤ãƒ«** | `analysis/demand_regression_data_annual_log_transformed.csv` |

## ğŸ’° æ¶ˆè²»è€…ä½™å‰°ã®è¨ˆç®—çµæœ

### è¨ˆç®—æ–¹æ³•ï¼ˆæ¸¬å®šæ–¹æ³•ç·è«–ã«åŸºã¥ãï¼‰

1. **ä¾¡æ ¼è¦å› ã®å¯„ä¸ç‡è¨ˆç®—**: `Xt+1 = Î²(exp(lnPt+1ï¼lnPt)ï¼1)ï¼(exp(lnQt+1ï¼lnQt)ï¼1)`
2. **éœ€è¦å¢—åŠ åˆ†ã®ä¾¡æ ¼è¦å› éƒ¨åˆ†**: `Yt+1 = Xt+1 Ã— (Qt+1ï¼Qt)`
3. **æ¶ˆè²»è€…ä½™å‰°å¢—åˆ†ã®å°å½¢é¢ç©**: `(Qtï¼‹Qtï¼‹Yt+1)Ã—(Ptï¼Pt+1)Ã—1/2`

### æ¶ˆè²»è€…ä½™å‰°ã®çµ±è¨ˆ

| æŒ‡æ¨™ | å€¤ | å˜ä½ |
|------|-----|------|
| **è¨ˆç®—æœŸé–“** | 2007Q3 - 2025Q1 | 71å››åŠæœŸ |
| **å¹³å‡å¢—åˆ†** | -8,389,634,374 | å††/å››åŠæœŸ |
| **ç´¯ç©ä½™å‰°** | -595,664,040,536 | å††ï¼ˆç´„-59.6å…†å††ï¼‰ |
| **æœ€å¤§å¢—åˆ†** | 614,022,712,038 | å††ï¼ˆ2008Q4ï¼‰ |
| **æœ€å°å¢—åˆ†** | -334,619,661,282 | å††ï¼ˆ2008Q3ï¼‰ |

### ä¾¡æ ¼å¤‰å‹•ã¨æ¶ˆè²»è€…ä½™å‰°ã®é–¢ä¿‚

| é …ç›® | å€¤ |
|------|-----|
| **ä¾¡æ ¼ä¸Šæ˜‡å››åŠæœŸ** | 45å››åŠæœŸ |
| **ä¾¡æ ¼ä¸‹è½å››åŠæœŸ** | 24å››åŠæœŸ |
| **ä¾¡æ ¼å¤‰åŒ–ã¨ä½™å‰°å¤‰åŒ–ã®ç›¸é–¢ä¿‚æ•°** | -0.9947ï¼ˆå¼·ã„è² ã®ç›¸é–¢ï¼‰ |

### ä¸»è¦ãªæ”¿ç­–ã‚¤ãƒ™ãƒ³ãƒˆã¨æ¶ˆè²»è€…ä½™å‰°

| æœŸé–“ | ã‚¤ãƒ™ãƒ³ãƒˆ | æ¶ˆè²»è€…ä½™å‰°å¢—åˆ† | å‚™è€ƒ |
|------|---------|---------------|------|
| **2008Q2** | æš«å®šç¨ç‡ä¸€æ™‚å¤±åŠ¹ | -41,103,039,604å†† | ä¾¡æ ¼ä¸Šæ˜‡ï¼ˆ+2.9å††/Lï¼‰ |
| **2008Q3** | æš«å®šç¨ç‡å¤±åŠ¹ã®å½±éŸ¿ | -334,619,661,282å†† | ä¾¡æ ¼æ€¥é¨°ï¼ˆ+23.1å††/Lï¼‰ |
| **2008Q4** | æš«å®šç¨ç‡å¾©æ´» | +614,022,712,038å†† | ä¾¡æ ¼ä¸‹è½ï¼ˆ-42.1å††/Lï¼‰ |
| **2009Q1** | é‡‘èå±æ©Ÿ | +393,956,639,624å†† | ä¾¡æ ¼ä¸‹è½ï¼ˆ-27.6å††/Lï¼‰ |
| **2020Q2** | COVID-19ãƒ‘ãƒ³ãƒ‡ãƒŸãƒƒã‚¯ | - | ä¾¡æ ¼ä¸‹è½ã€éœ€è¦æ¸›å°‘ |

## ğŸ“ å‡ºåŠ›ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

### åˆ†æçµæœãƒ•ã‚¡ã‚¤ãƒ«

| ãƒ•ã‚¡ã‚¤ãƒ«å | ãƒ‘ã‚¹ | èª¬æ˜ |
|-----------|------|------|
| **åˆ†æãƒ‡ãƒ¼ã‚¿** | `analysis/results/01_analysis_data.csv` | å›å¸°åˆ†æã«ä½¿ç”¨ã—ãŸãƒ‡ãƒ¼ã‚¿ï¼ˆå¯¾æ•°å·®åˆ†å«ã‚€ï¼‰ |
| **ä¿‚æ•°çµæœ** | `analysis/results/01_demand_function_coefficients.csv` | éœ€è¦é–¢æ•°ã®ä¿‚æ•°ã¨çµ±è¨ˆçš„æœ‰æ„æ€§ |
| **ä¿‚æ•°ï¼ˆJSONï¼‰** | `analysis/results/01_coefficients.json` | ä¿‚æ•°ã‚’JSONå½¢å¼ã§ä¿å­˜ï¼ˆæ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§ä½¿ç”¨ï¼‰ |
| **æ¶ˆè²»è€…ä½™å‰°çµæœ** | `analysis/results/02_consumer_surplus_results.csv` | å„å››åŠæœŸã®æ¶ˆè²»è€…ä½™å‰°å¢—åˆ†ã¨ç´¯ç©å€¤ |

### å¯è¦–åŒ–ã‚°ãƒ©ãƒ•

| ã‚°ãƒ©ãƒ•å | ãƒ•ã‚¡ã‚¤ãƒ«ãƒ‘ã‚¹ | èª¬æ˜ |
|---------|------------|------|
| **éœ€è¦é–¢æ•°ä¿‚æ•°** | `analysis/figures/01_demand_function_coefficients.png` | æ‰€å¾—å¼¾åŠ›æ€§ã€ä¾¡æ ¼å¼¾åŠ›æ€§ã€ç¨ç‡å¼¾åŠ›æ€§ã®å¯è¦–åŒ– |
| **æ¶ˆè²»è€…ä½™å‰°å¢—åˆ†æ¨ç§»** | `analysis/figures/02_consumer_surplus_increase.png` | å››åŠæœŸã”ã¨ã®æ¶ˆè²»è€…ä½™å‰°å¢—åˆ†ã®æ™‚ç³»åˆ— |
| **ç´¯ç©æ¶ˆè²»è€…ä½™å‰°æ¨ç§»** | `analysis/figures/03_cumulative_consumer_surplus.png` | ç´¯ç©æ¶ˆè²»è€…ä½™å‰°ã®æ™‚ç³»åˆ— |
| **ä¾¡æ ¼-ä½™å‰°é–¢ä¿‚** | `analysis/figures/04_price_vs_surplus.png` | ä¾¡æ ¼å¤‰åŒ–ã¨æ¶ˆè²»è€…ä½™å‰°å¤‰åŒ–ã®æ•£å¸ƒå›³ |
| **å›å¸°è¨ºæ–­** | `analysis/figures/05_regression_diagnostics.png` | å›å¸°åˆ†æã®è¨ºæ–­ã‚°ãƒ©ãƒ•ï¼ˆæ®‹å·®åˆ†æãªã©ï¼‰ |

## ğŸ” ä¸»è¦ãªç™ºè¦‹

### 1. éœ€è¦é–¢æ•°ã®ç‰¹å¾´

| ç™ºè¦‹äº‹é … | è©³ç´° |
|---------|------|
| **æ‰€å¾—åŠ¹æœãŒå¤§ãã„** | æ‰€å¾—å¼¾åŠ›æ€§0.835ã§çµ±è¨ˆçš„ã«æœ‰æ„ï¼ˆp=0.0027ï¼‰ã€‚GDPæˆé•·ãŒã‚¬ã‚½ãƒªãƒ³éœ€è¦ã«å¤§ããå½±éŸ¿ |
| **ä¾¡æ ¼éå¼¾åŠ›æ€§** | ä¾¡æ ¼å¼¾åŠ›æ€§-0.0604ã§éæœ‰æ„ã€‚ã‚¬ã‚½ãƒªãƒ³ã¯å¿…éœ€å“ã§ã‚ã‚Šã€ä¾¡æ ¼å¤‰åŒ–ã«åå¿œã—ã«ãã„ |
| **ç¨ç‡åŠ¹æœ** | ç¨ç‡å¼¾åŠ›æ€§-0.1410ã§éæœ‰æ„ã ãŒã€è² ã®å€¤ã¯ç¨ç‡ä¸Šæ˜‡ãŒéœ€è¦ã‚’æ¸›å°‘ã•ã›ã‚‹ã“ã¨ã‚’ç¤ºå”† |
| **ãƒ¢ãƒ‡ãƒ«ã®èª¬æ˜åŠ›** | RÂ²=0.1491ï¼ˆ14.9%ï¼‰ã€‚ä»–ã®è¦å› ï¼ˆæŠ€è¡“é€²æ­©ã€ä»£æ›¿ã‚¨ãƒãƒ«ã‚®ãƒ¼ãªã©ï¼‰ã®å½±éŸ¿ã‚‚å¤§ãã„ |

### 2. æ¶ˆè²»è€…ä½™å‰°ã®ç‰¹å¾´

| ç™ºè¦‹äº‹é … | è©³ç´° |
|---------|------|
| **ç´¯ç©çš„ãªä½™å‰°æ¸›å°‘** | 2007Q3-2025Q1ã®æœŸé–“ã§ç´„-59.6å…†å††ã®ç´¯ç©æ¸›å°‘ |
| **ä¾¡æ ¼ä¸Šæ˜‡ã®å½±éŸ¿** | ä¾¡æ ¼ä¸Šæ˜‡å››åŠæœŸãŒ45å››åŠæœŸã¨å¤šãã€ä¾¡æ ¼ä¸Šæ˜‡ãŒä½™å‰°æ¸›å°‘ã®ä¸»å›  |
| **å¼·ã„è² ã®ç›¸é–¢** | ä¾¡æ ¼å¤‰åŒ–ã¨ä½™å‰°å¤‰åŒ–ã®ç›¸é–¢ä¿‚æ•°-0.9947ã€‚ä¾¡æ ¼ä¸Šæ˜‡ãŒç›´æ¥çš„ã«ä½™å‰°ã‚’æ¸›å°‘ã•ã›ã‚‹ |
| **æ”¿ç­–ã‚¤ãƒ™ãƒ³ãƒˆã®å½±éŸ¿** | 2008Q2-Q4ã®æš«å®šç¨ç‡å¤±åŠ¹ãƒ»å¾©æ´»ã§å¤§ããªä½™å‰°å¤‰å‹• |

### 3. æ”¿ç­–å«æ„

| å«æ„ | èª¬æ˜ |
|------|------|
| **æ‰€å¾—æ”¿ç­–ã®é‡è¦æ€§** | æ‰€å¾—å¼¾åŠ›æ€§ãŒå¤§ãã„ãŸã‚ã€GDPæˆé•·ãŒã‚¬ã‚½ãƒªãƒ³éœ€è¦å¢—åŠ ã«å¯„ä¸ |
| **ä¾¡æ ¼æ”¿ç­–ã®é™ç•Œ** | ä¾¡æ ¼éå¼¾åŠ›æ€§ã®ãŸã‚ã€ä¾¡æ ¼å¤‰å‹•ã«ã‚ˆã‚‹éœ€è¦èª¿æ•´åŠ¹æœã¯é™å®šçš„ |
| **ç¨åˆ¶ã®å½±éŸ¿** | ç¨ç‡å¤‰æ›´ã¯éœ€è¦ã«å½±éŸ¿ã‚’ä¸ãˆã‚‹ãŒã€çµ±è¨ˆçš„æœ‰æ„æ€§ã¯ä½ã„ |
| **æ¶ˆè²»è€…ä½™å‰°ã®ä¿è­·** | ä¾¡æ ¼å®‰å®šåŒ–æ”¿ç­–ãŒæ¶ˆè²»è€…ä½™å‰°ä¿è­·ã«é‡è¦ |

## ğŸ“ å®Ÿè¡Œæ‰‹é †

### 0. å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã®å¯¾æ•°å¤‰æ›æº–å‚™ï¼ˆåˆå›ã®ã¿ã€ã¾ãŸã¯rawãƒ‡ãƒ¼ã‚¿æ›´æ–°æ™‚ï¼‰
```bash
python scripts/data_preparation/07_prepare_annual_log_transformed_data.py
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¾ã™ï¼š
- ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`demand_regression_data_annual.csv`ã‚’èª­ã¿è¾¼ã‚€
- å¯¾æ•°å¤‰æ›åˆ—ã‚’è¿½åŠ ï¼ˆ`ln_Q`, `ln_P`, `ln_GDP`, `ln_Tax_rate`ï¼‰
- `analysis/demand_regression_data_annual_log_transformed.csv`ã¨ã—ã¦ä¿å­˜

### 1. éœ€è¦é–¢æ•°ã®æ¨å®šï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«ç‰ˆï¼‰
```bash
python analysis/01_estimate_demand_function_annual_level_model.py
```

ã“ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã®å¯¾æ•°å¤‰æ›æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ï¼ˆ`analysis/demand_regression_data_annual_log_transformed.csv`ï¼‰ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚

### 2. æ¶ˆè²»è€…ä½™å‰°ã®è¨ˆç®—
```bash
python analysis/02_calculate_consumer_surplus.py
```

### 3. çµæœã®å¯è¦–åŒ–
```bash
python analysis/03_visualize_results.py
```

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®æ”¹å–„

### å¯¾æ•°å¤‰æ›ã®äº‹å‰å‡¦ç†

**æ”¹å–„å‰**: åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆå†…ã§æ¯å›å¯¾æ•°å¤‰æ›ã‚’å®Ÿè¡Œ
- å‡¦ç†ãŒé‡è¤‡ã—ã¦ã„ãŸ
- ãƒ‡ãƒ¼ã‚¿ã®å‰å‡¦ç†ãŒä¸æ˜ç¢º

**æ”¹å–„å¾Œ**: å‰å‡¦ç†ã‚¹ã‚¯ãƒªãƒ—ãƒˆã§å¯¾æ•°å¤‰æ›æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã‚’äº‹å‰ã«ä½œæˆ
- `scripts/data_preparation/00_prepare_log_transformed_data.py`ã§å¯¾æ•°å¤‰æ›ã‚’å®Ÿè¡Œ
- `analysis/demand_regression_data_log_transformed.csv`ã¨ã—ã¦ä¿å­˜
- åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯å¯¾æ•°å¤‰æ›æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥ä½¿ç”¨

**ãƒ¡ãƒªãƒƒãƒˆ**:
1. **å‡¦ç†ã®æ˜ç¢ºåŒ–**: ãƒ‡ãƒ¼ã‚¿å‰å‡¦ç†ã¨åˆ†æãŒåˆ†é›¢ã•ã‚Œã€å‡¦ç†ãƒ•ãƒ­ãƒ¼ãŒæ˜ç¢º
2. **åŠ¹ç‡åŒ–**: å¯¾æ•°å¤‰æ›ã‚’ä¸€åº¦ã ã‘å®Ÿè¡Œã—ã€çµæœã‚’å†åˆ©ç”¨
3. **æ¤œè¨¼å®¹æ˜“æ€§**: å¯¾æ•°å¤‰æ›æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã‚’ç›´æ¥ç¢ºèªå¯èƒ½
4. **å†ç¾æ€§å‘ä¸Š**: å‰å‡¦ç†ã¨åˆ†æãŒåˆ†é›¢ã•ã‚Œã€å†ç¾æ€§ãŒå‘ä¸Š

### å¯¾æ•°å¤‰æ›ã®è©³ç´°

| å¤‰æ› | èª¬æ˜ | ç”¨é€” |
|------|------|------|
| **ln_Q, ln_P, ln_GDP, ln_Tax_rate** | è‡ªç„¶å¯¾æ•°å¤‰æ› | ãƒ¬ãƒ™ãƒ«å€¤ã®å¯¾æ•°è¡¨ç¾ |
| **Î”ln_Q, Î”ln_P, Î”ln_GDP, Î”ln_Tax_rate** | å¯¾æ•°å·®åˆ†ï¼ˆå‰å››åŠæœŸæ¯”å¤‰åŒ–ç‡ï¼‰ | å›å¸°åˆ†æã«ä½¿ç”¨ |

**å¯¾æ•°å·®åˆ†ã®æ„å‘³**:
- `Î”ln_Q = ln(Q_t) - ln(Q_{t-1})` â‰ˆ `(Q_t - Q_{t-1}) / Q_{t-1}`ï¼ˆæˆé•·ç‡ï¼‰
- å˜ä½ã®ç•°ãªã‚‹å¤‰æ•°ï¼ˆQ: 10å„„ãƒªãƒƒãƒˆãƒ«ã€GDP: å…†å††ï¼‰ã‚’æ¯”è¼ƒå¯èƒ½ã«ã™ã‚‹

## ğŸ“Š ãƒ‡ãƒ¼ã‚¿ã®è©³ç´°

### ä½¿ç”¨ãƒ‡ãƒ¼ã‚¿

| å¤‰æ•° | å˜ä½ | ãƒ‡ãƒ¼ã‚¿æœŸé–“ | ãƒ‡ãƒ¼ã‚¿æ•° | å¯¾æ•°å¤‰æ›åˆ— |
|------|------|-----------|---------|-----------|
| **Q (liters)** | 10å„„ãƒªãƒƒãƒˆãƒ« | 2007Q1-2025Q1 | 73å››åŠæœŸ | `ln_Q`, `Î”ln_Q` |
| **P (yen/liter)** | å††/ãƒªãƒƒãƒˆãƒ« | 1990Q3-2025Q1 | 139å››åŠæœŸ | `ln_P`, `Î”ln_P` |
| **Tax_rate (%)** | % | 1990Q3-2025Q1 | 139å››åŠæœŸ | `ln_Tax_rate`, `Î”ln_Tax_rate` |
| **GDP (trillion yen)** | å…†å†† | 1994Q1-2025Q1 | 125å››åŠæœŸ | `ln_GDP`, `Î”ln_GDP` |

**ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«**:
- **Rawãƒ‡ãƒ¼ã‚¿**: `demand_regression_data_raw.csv`ï¼ˆå…ƒã®ãƒ‡ãƒ¼ã‚¿ã€ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªï¼‰
- **å¯¾æ•°å¤‰æ›æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿**: `analysis/demand_regression_data_log_transformed.csv`ï¼ˆå‰å‡¦ç†æ¸ˆã¿ã€åˆ†æã«ä½¿ç”¨ï¼‰

### åˆ†æå¯èƒ½æœŸé–“

- **å…¨å¤‰æ•°ãŒæƒã£ã¦ã„ã‚‹æœŸé–“**: 2007Q1-2025Q1ï¼ˆ73å››åŠæœŸã€ç´„18å¹´ï¼‰
- **å›å¸°åˆ†æã«ä½¿ç”¨**: 2007Q2-2025Q1ï¼ˆ72å››åŠæœŸã€æœ€åˆã®è¡Œã‚’é™¤å¤–ï¼‰

## ğŸ”„ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

### å„ªå…ˆåº¦ï¼šé«˜

1. **è¦å› åˆ†è§£ã®å®Ÿæ–½**
   - GDPã«ã‚ˆã‚‹æ¶ˆè²»è€…ä½™å‰°ã¸ã®å½±éŸ¿ã‚’åˆ†é›¢
   - ä¾¡æ ¼ã«ã‚ˆã‚‹æ¶ˆè²»è€…ä½™å‰°ã¸ã®å½±éŸ¿ã‚’åˆ†é›¢
   - ç¨ç‡ã«ã‚ˆã‚‹æ¶ˆè²»è€…ä½™å‰°ã¸ã®å½±éŸ¿ã‚’åˆ†é›¢

2. **æ”¿ç­–ã‚¤ãƒ™ãƒ³ãƒˆã®å½±éŸ¿åˆ†æ**
   - 2008Q2æš«å®šç¨ç‡å¤±åŠ¹ã®å½±éŸ¿ã‚’è©³ç´°åˆ†æ
   - 2020Q2 COVID-19ãƒ‘ãƒ³ãƒ‡ãƒŸãƒƒã‚¯ã®å½±éŸ¿ã‚’åˆ†æ

### å„ªå…ˆåº¦ï¼šä¸­

3. **ãƒ¢ãƒ‡ãƒ«ã®æ”¹å–„**
   - å­£ç¯€å¤‰å‹•ã®è€ƒæ…®
   - ãƒ©ã‚°å¤‰æ•°ã®è¿½åŠ 
   - æ§‹é€ å¤‰åŒ–ã®æ¤œå®š

4. **æ„Ÿåº¦åˆ†æ**
   - ç•°ãªã‚‹æœŸé–“ã§ã®æ¨å®šçµæœã®æ¯”è¼ƒ
   - å¤–ã‚Œå€¤ã®å½±éŸ¿åˆ†æ

## ğŸ“‚ ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

### ä¸»è¦ãƒ•ã‚©ãƒ«ãƒ€

| ãƒ•ã‚©ãƒ«ãƒ€ | èª¬æ˜ | ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ« |
|---------|------|------------|
| **`scripts/data_preparation/`** | ãƒ‡ãƒ¼ã‚¿æº–å‚™ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | `00_prepare_log_transformed_data.py`<br>`02_complete_consumption_data.py`<br>`03_fix_units.py`<br>`add_*.py` |
| **`analysis/`** | åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨çµæœ | `01_estimate_demand_function.py`<br>`02_calculate_consumer_surplus.py`<br>`03_visualize_results.py`<br>`results/`<br>`figures/` |
| **`visualization/`** | å¯è¦–åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ | `01_create_raw_data_visualizations.py`<br>`figures/` |
| **`data/`** | å…ƒãƒ‡ãƒ¼ã‚¿ | å„ç¨®CSVãƒ•ã‚¡ã‚¤ãƒ« |
| **`archive/`** | ã‚¢ãƒ¼ã‚«ã‚¤ãƒ– | ä¸è¦ã«ãªã£ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ« |

### ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«ã®å ´æ‰€

| ãƒ•ã‚¡ã‚¤ãƒ«å | å ´æ‰€ | èª¬æ˜ |
|-----------|------|------|
| **`demand_regression_data_raw.csv`** | ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | ãƒ¡ã‚¤ãƒ³ã®rawãƒ‡ãƒ¼ã‚¿ï¼ˆå››åŠæœŸãƒ‡ãƒ¼ã‚¿ã€å…¨å¤‰æ•°ã‚’å«ã‚€ï¼‰ |
| **`demand_regression_data_annual.csv`** | ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒª | å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ï¼ˆå››åŠæœŸãƒ‡ãƒ¼ã‚¿ã‹ã‚‰é›†ç´„ï¼‰ |
| **`demand_regression_data_annual_log_transformed.csv`** | `analysis/` | å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã®å¯¾æ•°å¤‰æ›æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ï¼ˆåˆ†æã«ä½¿ç”¨ï¼‰ |

---

**æœ€çµ‚æ›´æ–°**: 2025å¹´11æœˆ26æ—¥  
**åˆ†ææœŸé–“**: 2007Q1-2025Q1ï¼ˆç´„18å¹´ã€73å››åŠæœŸï¼‰  
**åˆ†æã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹**: å®Œäº† âœ…  
**ãƒ•ã‚©ãƒ«ãƒ€æ•´ç†**: å®Œäº† âœ…ï¼ˆè©³ç´°ã¯`æ•´ç†å†…å®¹.md`ã‚’å‚ç…§ï¼‰

