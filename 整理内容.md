# ãƒ•ã‚©ãƒ«ãƒ€ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†å†…å®¹ï¼ˆçµ±åˆç‰ˆï¼‰

> **æ³¨æ„**: ã“ã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã¯`æ•´ç†å®Œäº†å ±å‘Š.md`ã¨çµ±åˆã—ã€æœ€æ–°ã®çŠ¶æ…‹ã‚’åæ˜ ã—ã¦ã„ã¾ã™ï¼ˆ2025å¹´11æœˆ26æ—¥æ›´æ–°ï¼‰

## ğŸ“ æ•´ç†æ—¥æ™‚
2025å¹´11æœˆ26æ—¥

## å®Ÿæ–½ã—ãŸæ•´ç†å†…å®¹

### 1. ãƒ‡ãƒ¼ã‚¿æº–å‚™ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ•´ç†

**ç§»å‹•å…ˆ**: `scripts/data_preparation/`

ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’`scripts/data_preparation/`ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¾ã—ãŸï¼š

- `00_prepare_log_transformed_data.py` - å¯¾æ•°å¤‰æ›ãƒ‡ãƒ¼ã‚¿æº–å‚™ï¼ˆå››åŠæœŸãƒ‡ãƒ¼ã‚¿ç‰ˆï¼‰
- `02_complete_consumption_data.py` - æ¶ˆè²»é‡ãƒ‡ãƒ¼ã‚¿è£œå®Œ
- `03_fix_units.py` - å˜ä½çµ±ä¸€
- `04_process_cpi_data.py` - CPIãƒ‡ãƒ¼ã‚¿å‡¦ç†
- `05_add_cpi_and_relative_price.py` - CPIã¨ç›¸å¯¾ä¾¡æ ¼ã®è¿½åŠ 
- `06_aggregate_to_annual_data.py` - å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿é›†ç´„
- `07_prepare_annual_log_transformed_data.py` - å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿å¯¾æ•°å¤‰æ›ï¼ˆæœ€æ–°ç‰ˆï¼‰
- `add_gdp_data.py` - GDPãƒ‡ãƒ¼ã‚¿è¿½åŠ 
- `add_price_data_1990.py` - ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿è¿½åŠ 
- `add_tax_rate_data.py` - ç¨ç‡ãƒ‡ãƒ¼ã‚¿è¿½åŠ 

**ç†ç”±**: ãƒ‡ãƒ¼ã‚¿æº–å‚™é–¢é€£ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸€ç®‡æ‰€ã«ã¾ã¨ã‚ã‚‹ã“ã¨ã§ã€ç®¡ç†ã—ã‚„ã™ãã—ã¾ã—ãŸã€‚

### 2. ä¸è¦ãƒ»é‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´ç†

**å‰Šé™¤ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«**:

- `analysis/01_estimate_demand_function.py` (å·®åˆ†ãƒ¢ãƒ‡ãƒ«ç‰ˆ)
- `analysis/01_estimate_demand_function_level_model.py` (å››åŠæœŸãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«ç‰ˆ)
- `analysis/results/01_coefficients.json`
- `analysis/results/01_coefficients_level_model.json`
- `analysis/results/01_demand_function_coefficients.csv`
- `analysis/results/01_demand_function_coefficients_level_model.csv`
- `analysis/results/01_analysis_data.csv`
- `analysis/results/01_analysis_data_level_model.csv`
- `analysis/demand_regression_data_log_transformed.csv` (å››åŠæœŸç‰ˆ)
- `memo.text` (å¤ã„ãƒ¡ãƒ¢ã€`project/å­¦å£«è«–æ–‡ãƒ¡ãƒ¢.text`ãŒæ­£å¼ç‰ˆ)

**ç†ç”±**: ç¾åœ¨ä½¿ç”¨ã—ã¦ã„ãªã„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã€æœ€æ–°ç‰ˆã®ã¿ã‚’ä¿æŒã—ã¾ã—ãŸã€‚

### 3. visualizationãƒ•ã‚©ãƒ«ãƒ€ã®é‡è¤‡æ•´ç†

**å‰Šé™¤ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€**:

- `visualization/create_raw_data_visualizations.py` - é‡è¤‡ï¼ˆ`01_create_raw_data_visualizations.py`ãŒæ­£å¼ç‰ˆï¼‰
- `visualization/visualization/` - é‡è¤‡ãƒ•ã‚©ãƒ«ãƒ€

**ç†ç”±**: é‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã€`01_create_raw_data_visualizations.py`ã‚’æ­£å¼ç‰ˆã¨ã—ã¦çµ±ä¸€ã—ã¾ã—ãŸã€‚

## ğŸ“‚ æ•´ç†å¾Œã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

```
forReaserch/
â”œâ”€â”€ analysis/                    # åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨çµæœ
â”‚   â”œâ”€â”€ 01_estimate_demand_function_annual_level_model.py  # æœ€æ–°ç‰ˆ: å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ãƒ»ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«æ¨å®š
â”‚   â”œâ”€â”€ 02_calculate_consumer_surplus.py
â”‚   â”œâ”€â”€ 03_visualize_results.py
â”‚   â”œâ”€â”€ demand_regression_data_annual_log_transformed.csv
â”‚   â”œâ”€â”€ figures/                # ã‚°ãƒ©ãƒ•
â”‚   â””â”€â”€ results/                # åˆ†æçµæœï¼ˆæœ€æ–°ç‰ˆã®ã¿ï¼‰
â”‚       â”œâ”€â”€ 01_coefficients_annual_level_model.json
â”‚       â”œâ”€â”€ 01_analysis_data_annual_level_model.csv
â”‚       â”œâ”€â”€ 01_demand_function_coefficients_annual_level_model.csv
â”‚       â””â”€â”€ 02_consumer_surplus_results.csv
â”œâ”€â”€ scripts/                    # ãƒ‡ãƒ¼ã‚¿æº–å‚™ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â””â”€â”€ data_preparation/
â”‚       â”œâ”€â”€ 00_prepare_log_transformed_data.py
â”‚       â”œâ”€â”€ 02_complete_consumption_data.py
â”‚       â”œâ”€â”€ 03_fix_units.py
â”‚       â”œâ”€â”€ 04_process_cpi_data.py
â”‚       â”œâ”€â”€ 05_add_cpi_and_relative_price.py
â”‚       â”œâ”€â”€ 06_aggregate_to_annual_data.py
â”‚       â”œâ”€â”€ 07_prepare_annual_log_transformed_data.py
â”‚       â”œâ”€â”€ add_gdp_data.py
â”‚       â”œâ”€â”€ add_price_data_1990.py
â”‚       â”œâ”€â”€ add_tax_rate_data.py
â”‚       â””â”€â”€ README.md
â”œâ”€â”€ visualization/              # å¯è¦–åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ 01_create_raw_data_visualizations.py
â”‚   â””â”€â”€ figures/
â”œâ”€â”€ data/                       # ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â”œâ”€â”€ -2025ã‚¬ã‚½ãƒªãƒ³é–¢é€£ç¨å››åŠæœŸã”ã¨/
â”‚   â”œâ”€â”€ -2025æ¶ˆè²»è€…ç‰©ä¾¡æŒ‡æ•°/
â”‚   â”œâ”€â”€ 1990-2025_ã‚¬ã‚½ãƒªãƒ³å°å£²ä¾¡æ ¼å››åŠæœŸã”ã¨/
â”‚   â”œâ”€â”€ 1994-2025_GDPå››åŠæœŸã”ã¨/
â”‚   â””â”€â”€ 2007-2024ã‚¬ã‚½ãƒªãƒ³è²©å£²é‡/
â”œâ”€â”€ project/                    # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ¡ãƒ¢
â”‚   â”œâ”€â”€ å‰å¹´åº¦æå‡ºè«–æ–‡_ã‚³ãƒ”ãƒš.text
â”‚   â”œâ”€â”€ å­¦å£«è«–æ–‡ãƒ¡ãƒ¢.text
â”‚   â””â”€â”€ å­¦å£«è«–æ–‡ç›®æ¬¡.text
â”œâ”€â”€ æ¶ˆè²»è€…ä½™å‰°æ¸¬å®šæ–¹æ³•ã¾ã¨ã‚/   # æ¸¬å®šæ–¹æ³•ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ demand_regression_data_raw.csv      # å…ƒãƒ‡ãƒ¼ã‚¿ï¼ˆå››åŠæœŸï¼‰
â”œâ”€â”€ demand_regression_data_annual.csv   # å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ README.md
â”œâ”€â”€ ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ»çµæœ.md
â”œâ”€â”€ ãƒ—ãƒ©ãƒ³.md
â”œâ”€â”€ æ•´ç†å†…å®¹.md (ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«)
â”œâ”€â”€ æ•´ç†å®Œäº†å ±å‘Š.md
â”œâ”€â”€ GDPãƒ‡ãƒ¼ã‚¿å–å¾—æ–¹æ³•.md
â””â”€â”€ æ¶ˆè²»è€…ç‰©ä¾¡æŒ‡æ•°ãƒ‡ãƒ¼ã‚¿å–å¾—æ–¹æ³•.md
```

## ğŸ”„ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‘ã‚¹ä¿®æ­£

### ä¿®æ­£ã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆ

1. **`scripts/data_preparation/07_prepare_annual_log_transformed_data.py`**
   - ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`demand_regression_data_annual.csv`ã‚’èª­ã¿è¾¼ã‚€
   - å‡ºåŠ›å…ˆã‚’`analysis/demand_regression_data_annual_log_transformed.csv`ã«è¨­å®š

2. **`analysis/01_estimate_demand_function_annual_level_model.py`**
   - `analysis/demand_regression_data_annual_log_transformed.csv`ã‚’èª­ã¿è¾¼ã‚€ï¼ˆå¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ç‰ˆï¼‰

## ç¾è¡Œã®åˆ†æãƒ•ãƒ­ãƒ¼

1. **ãƒ‡ãƒ¼ã‚¿æº–å‚™** (`scripts/data_preparation/`)
   - å„ãƒ‡ãƒ¼ã‚¿ã‚½ãƒ¼ã‚¹ã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’çµ±åˆ
   - å˜ä½çµ±ä¸€ã€æ¬ æå€¤å‡¦ç†
   - CPIã¨ç›¸å¯¾ä¾¡æ ¼ã®è¨ˆç®—
   - å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã¸ã®é›†ç´„ï¼ˆ`06_aggregate_to_annual_data.py`ï¼‰
   - å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã®å¯¾æ•°å¤‰æ›ï¼ˆ`07_prepare_annual_log_transformed_data.py`ï¼‰

2. **åˆ†æ** (`analysis/`)
   - `01_estimate_demand_function_annual_level_model.py`: å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ã§ãƒ¬ãƒ™ãƒ«ãƒ¢ãƒ‡ãƒ«æ¨å®šï¼ˆRÂ²=93.9%ï¼‰
   - `02_calculate_consumer_surplus.py`: æ¶ˆè²»è€…ä½™å‰°è¨ˆç®—
   - `03_visualize_results.py`: çµæœå¯è¦–åŒ–

3. **çµæœ** (`analysis/results/`)
   - å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ç‰ˆã®æ¨å®šçµæœã®ã¿ä¿æŒ

## âœ… æ•´ç†ã®åŠ¹æœ

1. **æ˜ç¢ºãªæ§‹é€ **: ãƒ‡ãƒ¼ã‚¿æº–å‚™ã€åˆ†æã€å¯è¦–åŒ–ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒæ˜ç¢ºã«åˆ†é›¢
2. **ç®¡ç†ã—ã‚„ã™ã•**: é–¢é€£ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒä¸€ç®‡æ‰€ã«ã¾ã¨ã¾ã‚Šã€ç®¡ç†ãŒå®¹æ˜“
3. **ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ•´ç†**: ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ãŒãƒ«ãƒ¼ãƒˆã«æ®‹ã‚Šã€è¦‹é€šã—ãŒè‰¯ããªã£ãŸ
4. **å†ç¾æ€§ã®å‘ä¸Š**: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å½¹å‰²ãŒæ˜ç¢ºã«ãªã‚Šã€å†ç¾æ€§ãŒå‘ä¸Š
5. **æœ€æ–°ç‰ˆã®ã¿ä¿æŒ**: å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„çµæœãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã€æ··ä¹±ã‚’é˜²æ­¢

## ğŸ“ ä»Šå¾Œã®æ³¨æ„ç‚¹

- æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿æº–å‚™ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯`scripts/data_preparation/`ã«é…ç½®
- åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯`analysis/`ã«é…ç½®
- å¯è¦–åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯`visualization/`ã«é…ç½®
- ä¸è¦ã«ãªã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯å‰Šé™¤ã™ã‚‹ã‹ã€`archive/`ã«ç§»å‹•ï¼ˆç¾åœ¨ã¯`archive/`ãƒ•ã‚©ãƒ«ãƒ€ã¯å‰Šé™¤æ¸ˆã¿ï¼‰
- æœ€æ–°ã®åˆ†æçµæœã¯å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ç‰ˆï¼ˆRÂ²=93.9%ï¼‰ã§ã™

## æ³¨æ„äº‹é …

- å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„çµæœãƒ•ã‚¡ã‚¤ãƒ«ã¯å‰Šé™¤æ¸ˆã¿
- ç¾è¡Œã®ã‚³ãƒ¼ãƒ‰ã®ã¿ãŒæ®‹ã£ã¦ã„ã¾ã™
- æœ€æ–°ã®åˆ†æçµæœã¯å¹´æ¬¡ãƒ‡ãƒ¼ã‚¿ç‰ˆï¼ˆRÂ²=93.9%ï¼‰ã§ã™
