# ãƒ•ã‚©ãƒ«ãƒ€ãƒ»ãƒ•ã‚¡ã‚¤ãƒ«æ•´ç†å†…å®¹

## ğŸ“ æ•´ç†æ—¥: 2025å¹´11æœˆ26æ—¥

## å®Ÿæ–½ã—ãŸæ•´ç†å†…å®¹

### 1. ãƒ‡ãƒ¼ã‚¿æº–å‚™ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®æ•´ç†

**ç§»å‹•å…ˆ**: `scripts/data_preparation/`

ä»¥ä¸‹ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’`scripts/data_preparation/`ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¾ã—ãŸï¼š

- `00_prepare_log_transformed_data.py` - å¯¾æ•°å¤‰æ›æ¸ˆã¿ãƒ‡ãƒ¼ã‚¿ã®æº–å‚™
- `02_complete_consumption_data.py` - æ¶ˆè²»é‡ãƒ‡ãƒ¼ã‚¿ã®è£œå®Œ
- `03_fix_units.py` - å˜ä½ã®çµ±ä¸€
- `add_gdp_data.py` - GDPãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ 
- `add_price_data_1990.py` - ä¾¡æ ¼ãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ 
- `add_tax_rate_data.py` - ç¨ç‡ãƒ‡ãƒ¼ã‚¿ã®è¿½åŠ 

**ç†ç”±**: ãƒ‡ãƒ¼ã‚¿æº–å‚™é–¢é€£ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ä¸€ç®‡æ‰€ã«ã¾ã¨ã‚ã‚‹ã“ã¨ã§ã€ç®¡ç†ã—ã‚„ã™ãã—ã¾ã—ãŸã€‚

### 2. ä¸è¦ãƒ»é‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«ã®æ•´ç†

**ç§»å‹•å…ˆ**: `archive/`

ä»¥ä¸‹ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`archive/`ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã—ã¾ã—ãŸï¼š

- `add_pre_2007_data.py` - å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³
- `add_pre_2007_data_fixed.py` - å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³
- `create_log_dataset.py` - ä¸è¦
- `demand_regression_data_log.csv` - å¤ã„ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«
- `gasoline_quarterly_extracted.csv` - ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«
- `check_and_update_tax_rate.py` - ãƒ‡ãƒãƒƒã‚°ç”¨
- `debug_sales_extraction.py` - ãƒ‡ãƒãƒƒã‚°ç”¨
- `extract_quarterly_gasoline.py` - ä¸è¦
- `fix_2009_quarters.py` - ä¸€æ™‚çš„ãªä¿®æ­£ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `inspect_heisei21.py` - ãƒ‡ãƒãƒƒã‚°ç”¨
- `merge_all_quarterly_data.py` - å¤ã„ãƒãƒ¼ã‚¸ãƒ§ãƒ³
- `test_read_csv.py` - ãƒ†ã‚¹ãƒˆç”¨
- `gdp_impact_analysis.py` - å¤ã„åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆ
- `main.py` - å¤ã„ãƒ¡ã‚¤ãƒ³ã‚¹ã‚¯ãƒªãƒ—ãƒˆ

**ç†ç”±**: ç¾åœ¨ä½¿ç”¨ã—ã¦ã„ãªã„ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚„ä¸­é–“ãƒ•ã‚¡ã‚¤ãƒ«ã‚’`archive/`ã«ç§»å‹•ã—ã€ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã‚’æ•´ç†ã—ã¾ã—ãŸã€‚

### 3. visualizationãƒ•ã‚©ãƒ«ãƒ€ã®é‡è¤‡æ•´ç†

**å‰Šé™¤ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ãƒ»ãƒ•ã‚©ãƒ«ãƒ€**:

- `visualization/create_raw_data_visualizations.py` - é‡è¤‡ï¼ˆ`01_create_raw_data_visualizations.py`ãŒæ­£å¼ç‰ˆï¼‰
- `visualization/visualization/` - é‡è¤‡ãƒ•ã‚©ãƒ«ãƒ€

**ç†ç”±**: é‡è¤‡ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‰Šé™¤ã—ã€`01_create_raw_data_visualizations.py`ã‚’æ­£å¼ç‰ˆã¨ã—ã¦çµ±ä¸€ã—ã¾ã—ãŸã€‚

## ğŸ“‚ æ•´ç†å¾Œã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹æˆ

```
forReaserch/
â”œâ”€â”€ analysis/                          # åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆã¨çµæœ
â”‚   â”œâ”€â”€ 01_estimate_demand_function.py
â”‚   â”œâ”€â”€ 02_calculate_consumer_surplus.py
â”‚   â”œâ”€â”€ 03_visualize_results.py
â”‚   â”œâ”€â”€ demand_regression_data_log_transformed.csv
â”‚   â”œâ”€â”€ results/                      # åˆ†æçµæœ
â”‚   â””â”€â”€ figures/                      # ã‚°ãƒ©ãƒ•
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ data_preparation/             # ãƒ‡ãƒ¼ã‚¿æº–å‚™ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚       â”œâ”€â”€ 00_prepare_log_transformed_data.py
â”‚       â”œâ”€â”€ 02_complete_consumption_data.py
â”‚       â”œâ”€â”€ 03_fix_units.py
â”‚       â”œâ”€â”€ add_gdp_data.py
â”‚       â”œâ”€â”€ add_price_data_1990.py
â”‚       â”œâ”€â”€ add_tax_rate_data.py
â”‚       â””â”€â”€ README.md
â”œâ”€â”€ visualization/                    # å¯è¦–åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
â”‚   â”œâ”€â”€ 01_create_raw_data_visualizations.py
â”‚   â””â”€â”€ figures/
â”œâ”€â”€ data/                             # å…ƒãƒ‡ãƒ¼ã‚¿
â”‚   â”œâ”€â”€ -2025ã‚¬ã‚½ãƒªãƒ³é–¢é€£ç¨å››åŠæœŸã”ã¨/
â”‚   â”œâ”€â”€ 1990-2025_ã‚¬ã‚½ãƒªãƒ³å°å£²ä¾¡æ ¼å››åŠæœŸã”ã¨/
â”‚   â”œâ”€â”€ 1994-2025_GDPå››åŠæœŸã”ã¨/
â”‚   â””â”€â”€ 2007-2024ã‚¬ã‚½ãƒªãƒ³è²©å£²é‡/
â”œâ”€â”€ archive/                          # ã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ï¼ˆä¸è¦ãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
â”œâ”€â”€ project/                          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé–¢é€£è³‡æ–™
â”œâ”€â”€ æ¶ˆè²»è€…ä½™å‰°æ¸¬å®šæ–¹æ³•ã¾ã¨ã‚/         # å‚è€ƒè³‡æ–™
â”œâ”€â”€ demand_regression_data_raw.csv    # ãƒ¡ã‚¤ãƒ³ãƒ‡ãƒ¼ã‚¿ãƒ•ã‚¡ã‚¤ãƒ«
â”œâ”€â”€ README.md                          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆèª¬æ˜
â”œâ”€â”€ ã‚¹ã‚¯ãƒªãƒ—ãƒˆãƒ»çµæœ.md               # åˆ†æçµæœã¾ã¨ã‚
â””â”€â”€ ãƒ—ãƒ©ãƒ³.md                          # ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆè¨ˆç”»
```

## ğŸ”„ ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®ãƒ‘ã‚¹ä¿®æ­£

### ä¿®æ­£ã—ãŸã‚¹ã‚¯ãƒªãƒ—ãƒˆ

1. **`scripts/data_preparation/00_prepare_log_transformed_data.py`**
   - ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®`demand_regression_data_raw.csv`ã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ä¿®æ­£
   - å‡ºåŠ›å…ˆã‚’`analysis/demand_regression_data_log_transformed.csv`ã«è¨­å®š

2. **`analysis/01_estimate_demand_function.py`**
   - `analysis/demand_regression_data_log_transformed.csv`ã‚’èª­ã¿è¾¼ã‚€ã‚ˆã†ã«ä¿®æ­£æ¸ˆã¿

## âœ… æ•´ç†ã®åŠ¹æœ

1. **æ˜ç¢ºãªæ§‹é€ **: ãƒ‡ãƒ¼ã‚¿æº–å‚™ã€åˆ†æã€å¯è¦–åŒ–ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒæ˜ç¢ºã«åˆ†é›¢
2. **ç®¡ç†ã—ã‚„ã™ã•**: é–¢é€£ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒä¸€ç®‡æ‰€ã«ã¾ã¨ã¾ã‚Šã€ç®¡ç†ãŒå®¹æ˜“
3. **ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã®æ•´ç†**: ä¸»è¦ãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ãŒãƒ«ãƒ¼ãƒˆã«æ®‹ã‚Šã€è¦‹é€šã—ãŒè‰¯ããªã£ãŸ
4. **å†ç¾æ€§ã®å‘ä¸Š**: ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®å½¹å‰²ãŒæ˜ç¢ºã«ãªã‚Šã€å†ç¾æ€§ãŒå‘ä¸Š

## ğŸ“ ä»Šå¾Œã®æ³¨æ„ç‚¹

- æ–°ã—ã„ãƒ‡ãƒ¼ã‚¿æº–å‚™ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯`scripts/data_preparation/`ã«é…ç½®
- åˆ†æã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯`analysis/`ã«é…ç½®
- å¯è¦–åŒ–ã‚¹ã‚¯ãƒªãƒ—ãƒˆã¯`visualization/`ã«é…ç½®
- ä¸è¦ã«ãªã£ãŸãƒ•ã‚¡ã‚¤ãƒ«ã¯`archive/`ã«ç§»å‹•

